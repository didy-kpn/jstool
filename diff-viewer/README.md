# Text Diff Tool

HTML + CSS + JavaScript だけで動作する、ブラウザ向けのシンプルなテキスト差分比較ツールです。

## 概要

2つのテキスト（ファイルまたは貼り付けテキスト）を指定すると、GitHub 風の見た目で差分を表示します。

- 追加行: 緑
- 削除行: 赤
- 行内差分: 濃い色でハイライト
- 変更ブロック: A/B の行を可能な限り同じ行に揃えて表示

## 使い方

1. `index.html` をブラウザで開きます。
2. A/B それぞれに入力します（どちらかの方法で可）。
   - ドラッグ＆ドロップ
     - `ファイル A` / `ファイル B` の枠に個別ドロップ
     - 画面全体に2ファイル同時ドロップ
   - コピペ
     - `ファイル A (コピペ)` / `ファイル B (コピペ)` に貼り付け
     - `A に適用` / `B に適用` を押す
     - 貼り付け時は自動反映（`Ctrl+V` / `Cmd+V`）
3. 差分が自動で更新されます。

補助操作:

- `A/B 入れ替え`: 左右の比較対象を交換
- `クリア`: 入力と表示を初期化

## 使用技術

- HTML5
- CSS3
- Vanilla JavaScript
- [jsdiff 8.0.3](https://github.com/kpdecker/jsdiff)
  - CDN: `https://cdn.jsdelivr.net/npm/diff@8.0.3/dist/diff.min.js`

## 仕様

### 入力仕様

- 比較対象は2つ（A/B）
- 入力ソース
  - ファイル
  - 貼り付けテキスト
- A/B のどちらも入力が揃った時点で差分計算を実行

### 差分計算仕様

- 行差分: `Diff.diffLines()`
- 行内差分: `Diff.diffChars()`
- 改行コードは内部で `\n` に正規化して比較

### 表示仕様

- 4列テーブル表示
  - A の行番号
  - A の内容
  - B の行番号
  - B の内容
- A/B の本文列は画面幅基準で固定（`table-layout: fixed` + `colgroup`）
- 長いテキストは折り返し表示（横スクロールを抑制）
- 変更ブロックは以下のルールで整列
  - `same` 以外の連続ブロックを1単位として処理
  - 削除群と追加群を先頭から順に1対1で対応付け
  - 片側が余る場合のみ空欄行を表示

### レスポンシブ仕様

- 画面幅が狭い場合、入力エリア（ドラッグ枠/貼り付け枠）は1カラムに切り替え
- 差分テーブルは1画面で読みやすいように折り返し表示を優先

## 注意事項

- `jsdiff` を CDN から読み込むため、初回表示時はネットワーク接続が必要です。
- 巨大テキスト（非常に長い行や大量行）では、ブラウザ描画に時間がかかる場合があります。
